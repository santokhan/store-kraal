<template>
    <Container :view="viewType">
        <List_Grid :listView="list_view" :gridView="grid_view" :view="viewType" />
        <BTN :data="settings[0]" :view="viewType">
            <svg class="w-full h-full" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M47.3959 25C47.3959 12.65 37.3501 2.60416 25.0001 2.60416C12.6501 2.60416 2.60425 12.65 2.60425 25C2.60425 32.2292 6.06049 38.6501 11.3938 42.748C11.4022 42.7563 11.4147 42.7605 11.4231 42.7688C15.196 45.6584 19.8938 47.3958 25.0021 47.3958C30.1104 47.3958 34.8085 45.6584 38.5814 42.7688C38.5898 42.7605 38.6021 42.7563 38.6104 42.748C43.9396 38.6501 47.3959 32.2292 47.3959 25ZM5.72925 25C5.72925 14.3729 14.373 5.72916 25.0001 5.72916C35.6272 5.72916 44.2709 14.3729 44.2709 25C44.2709 30.2562 42.1501 35.0251 38.7251 38.5043C37.7897 34.5439 34.7958 30.8749 28.5625 30.8749H21.4377C15.2043 30.8749 12.2084 34.5439 11.2751 38.5043C7.85005 35.0251 5.72925 30.2562 5.72925 25ZM14.0814 40.8625C14.2022 38.725 15.1793 33.9999 21.4377 33.9999H28.5625C34.8208 33.9999 35.7979 38.725 35.9188 40.8625C32.8125 43.0084 29.0522 44.2708 25.0001 44.2708C20.948 44.2708 17.1876 43.0063 14.0814 40.8625ZM25.0169 28.6458C29.3231 28.6458 32.8294 25.1417 32.8294 20.8333C32.8294 16.525 29.3231 13.0208 25.0169 13.0208C20.7106 13.0208 17.2044 16.525 17.2044 20.8333C17.2044 25.1417 20.7085 28.6458 25.0169 28.6458ZM25.0169 16.1458C27.6002 16.1458 29.7044 18.2479 29.7044 20.8333C29.7044 23.4187 27.6002 25.5208 25.0169 25.5208C22.4335 25.5208 20.3294 23.4187 20.3294 20.8333C20.3294 18.2479 22.4335 16.1458 25.0169 16.1458Z"
                    fill="currentColor" />
            </svg>
        </BTN>
        <BTN :data="settings[1]" :view="viewType" @click="handleAI">
            <svg class="w-full h-full" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M24.9999 17.1875C20.6916 17.1875 17.1874 20.6917 17.1874 25C17.1874 29.3083 20.6916 32.8125 24.9999 32.8125C29.3082 32.8125 32.8124 29.3083 32.8124 25C32.8124 20.6917 29.3082 17.1875 24.9999 17.1875ZM24.9999 29.6875C22.4145 29.6875 20.3124 27.5854 20.3124 25C20.3124 22.4146 22.4145 20.3125 24.9999 20.3125C27.5853 20.3125 29.6874 22.4146 29.6874 25C29.6874 27.5854 27.5853 29.6875 24.9999 29.6875ZM44.1833 29.0688C42.7374 28.2313 41.8374 26.6729 41.8353 25C41.8332 23.3313 42.727 21.775 44.1916 20.9271C45.2645 20.3042 45.6312 18.9229 45.0104 17.8479L41.527 11.8354C40.9062 10.7625 39.5249 10.3938 38.4499 11.0125C36.9937 11.8521 35.1833 11.8521 33.7229 11.0042C32.2833 10.1688 31.3874 8.61669 31.3874 6.9521C31.3874 5.70419 30.3708 4.68961 29.1228 4.68961H20.8832C19.6332 4.68961 18.6187 5.70419 18.6187 6.9521C18.6187 8.61669 17.7228 10.1688 16.2791 11.0083C14.8228 11.8521 13.0145 11.8541 11.5583 11.0146C10.4812 10.3937 9.10203 10.7646 8.48119 11.8375L4.99367 17.8563C4.37283 18.9292 4.74156 20.3083 5.82489 20.9375C7.26864 21.7729 8.16867 23.3292 8.17284 24.9979C8.177 26.6687 7.28116 28.2292 5.81866 29.0771C5.29783 29.3792 4.92283 29.8646 4.76866 30.4479C4.6145 31.0292 4.69368 31.6354 4.99577 32.1583L8.477 38.1667C9.09783 39.2417 10.4791 39.6146 11.5583 38.9917C13.0145 38.1521 14.8208 38.1542 16.2562 38.9855L16.2603 38.9875C16.2666 38.9916 16.2728 38.9958 16.2812 39C17.7208 39.8354 18.6145 41.3875 18.6124 43.0541C18.6124 44.3021 19.627 45.3167 20.8749 45.3167H29.1228C30.3708 45.3167 31.3853 44.3021 31.3853 43.0562C31.3853 41.3896 32.2812 39.8375 33.727 38.9979C35.1812 38.1542 36.9895 38.15 38.4478 38.9917C39.5228 39.6125 40.902 39.2437 41.5249 38.1708L45.0124 32.1521C45.6311 31.075 45.2624 29.6938 44.1833 29.0688ZM39.2312 35.8896C36.9603 34.9 34.3249 35.0355 32.1541 36.2917C30.002 37.5396 28.5812 39.7458 28.3062 42.1875H21.6874C21.4166 39.7458 19.9916 37.5354 17.8395 36.2896C15.6728 35.0334 13.0333 34.9 10.7687 35.8896L8.11034 31.3C10.0999 29.8354 11.302 27.4854 11.2936 24.9854C11.2874 22.5021 10.0874 20.1688 8.10824 18.7042L10.7687 14.1125C13.0353 15.1 15.6749 14.9666 17.8458 13.7083C19.9958 12.4625 21.4166 10.2542 21.6916 7.81461H28.3062C28.5791 10.2563 30.002 12.4625 32.1583 13.7125C34.3228 14.9688 36.9624 15.1021 39.2312 14.1146L41.8916 18.7042C39.9062 20.1667 38.7062 22.5125 38.7103 25.0083C38.7124 27.4958 39.9124 29.8333 41.8937 31.3021L39.2312 35.8896Z"
                    fill="currentColor" />
            </svg>
        </BTN>
        <BTN :data="settings[2]" :view="viewType">
            <svg class="w-full h-full" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M32.402 45.3125H17.5999C13.0062 45.3125 10.4748 42.7958 10.4748 38.2291C10.4748 33.2208 13.3083 27.373 21.2979 27.373H28.704C36.6936 27.373 39.527 33.2208 39.527 38.2291C39.527 42.7958 36.9957 45.3125 32.402 45.3125ZM21.2979 30.498C14.1541 30.498 13.5998 36.4145 13.5998 38.2291C13.5998 41.0416 14.7603 42.1875 17.5999 42.1875H32.402C35.2415 42.1875 36.402 41.0395 36.402 38.2291C36.402 36.4145 35.8457 30.498 28.704 30.498H21.2979ZM25.0167 24.5041C20.7021 24.5041 17.1915 20.9937 17.1915 16.6791C17.1915 12.3645 20.7021 8.85417 25.0167 8.85417C29.3313 8.85417 32.8437 12.3645 32.8437 16.6791C32.8437 20.9937 29.3313 24.5041 25.0167 24.5041ZM25.0167 11.9792C22.425 11.9792 20.3165 14.0875 20.3165 16.6791C20.3165 19.2708 22.425 21.3791 25.0167 21.3791C27.6084 21.3791 29.7187 19.2708 29.7187 16.6791C29.7187 14.0875 27.6084 11.9792 25.0167 11.9792ZM47.3958 26.3542C47.3958 22.2376 44.8438 18.0834 39.1458 18.0834H37.1248C36.2623 18.0834 35.5623 18.7835 35.5623 19.6459C35.5623 20.5084 36.2623 21.2085 37.1248 21.2085H39.1458C43.7729 21.2085 44.2708 24.8063 44.2708 26.3542C44.2708 28.1542 43.6269 28.7916 41.8123 28.7916H41.0623C40.1998 28.7916 39.4998 29.4916 39.4998 30.3541C39.4998 31.2166 40.1998 31.9166 41.0623 31.9166H41.8123C45.3602 31.9166 47.3958 29.8896 47.3958 26.3542ZM37.7062 16.7397C40.5207 16.173 42.5625 13.6605 42.5625 10.7709C42.5625 7.41676 39.8333 4.68751 36.4791 4.68751C34.8937 4.68751 33.4186 5.27494 32.3269 6.33952C31.7082 6.94161 31.6959 7.93126 32.2979 8.55001C32.8979 9.16876 33.8915 9.18134 34.5082 8.57926C35.0144 8.08551 35.7145 7.81454 36.4791 7.81454C38.1104 7.81454 39.4375 9.14171 39.4375 10.773C39.4375 12.1813 38.4478 13.4043 37.0874 13.6793C36.2416 13.8501 35.6936 14.6749 35.8644 15.5207C36.0144 16.2624 36.6665 16.775 37.3936 16.775C37.4978 16.7708 37.602 16.7605 37.7062 16.7397ZM10.4791 30.3541C10.4791 29.4916 9.77915 28.7916 8.91665 28.7916H8.18524C6.37066 28.7916 5.72705 28.1542 5.72705 26.3542C5.72705 24.8063 6.22489 21.2085 10.852 21.2085H12.9144C13.7769 21.2085 14.4769 20.5084 14.4769 19.6459C14.4769 18.7835 13.7769 18.0834 12.9144 18.0834H10.852C4.76239 18.0834 2.60205 22.5396 2.60205 26.3542C2.60205 29.8896 4.63733 31.9166 8.18524 31.9166H8.91665C9.77915 31.9166 10.4791 31.2166 10.4791 30.3541ZM14.1791 15.5167C14.35 14.6708 13.802 13.8458 12.9562 13.6749C11.5812 13.3978 10.5832 12.177 10.5832 10.7686C10.5832 9.13739 11.9208 7.81047 13.5624 7.81047C14.3124 7.81047 15.0185 8.08755 15.554 8.59172C16.181 9.18547 17.1687 9.15624 17.7624 8.52916C18.3562 7.90208 18.3269 6.91263 17.6999 6.32096C16.5853 5.26679 15.1166 4.68547 13.5645 4.68547C10.1999 4.68547 7.46045 7.41447 7.46045 10.7686C7.46045 13.6561 9.51236 16.1668 12.3394 16.7376C12.4436 16.7585 12.5479 16.7687 12.65 16.7687C13.377 16.7707 14.0271 16.2583 14.1791 15.5167Z"
                    fill="currentColor" />
            </svg>
        </BTN>
        <BTN :data="settings[3]" :view="viewType">
            <svg class="w-full h-full" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M37.5 7.8125H34.8958V6.25C34.8958 5.3875 34.1958 4.6875 33.3333 4.6875C32.4708 4.6875 31.7708 5.3875 31.7708 6.25V7.8125H18.2292V6.25C18.2292 5.3875 17.5292 4.6875 16.6667 4.6875C15.8042 4.6875 15.1042 5.3875 15.1042 6.25V7.8125H12.5C7.4625 7.8125 4.6875 10.5875 4.6875 15.625V37.5C4.6875 42.5375 7.4625 45.3125 12.5 45.3125H37.5C42.5375 45.3125 45.3125 42.5375 45.3125 37.5V15.625C45.3125 10.5875 42.5375 7.8125 37.5 7.8125ZM12.5 10.9375H15.1042V12.5C15.1042 13.3625 15.8042 14.0625 16.6667 14.0625C17.5292 14.0625 18.2292 13.3625 18.2292 12.5V10.9375H31.7708V12.5C31.7708 13.3625 32.4708 14.0625 33.3333 14.0625C34.1958 14.0625 34.8958 13.3625 34.8958 12.5V10.9375H37.5C40.7854 10.9375 42.1875 12.3396 42.1875 15.625V17.1875H7.8125V15.625C7.8125 12.3396 9.21458 10.9375 12.5 10.9375ZM37.5 42.1875H12.5C9.21458 42.1875 7.8125 40.7854 7.8125 37.5V20.3125H42.1875V37.5C42.1875 40.7854 40.7854 42.1875 37.5 42.1875ZM18.7917 27.0833C18.7917 28.2333 17.8605 29.1667 16.7084 29.1667C15.5584 29.1667 14.6144 28.2333 14.6144 27.0833C14.6144 25.9333 15.5375 25 16.6875 25H16.7084C17.8584 25 18.7917 25.9333 18.7917 27.0833ZM27.125 27.0833C27.125 28.2333 26.1938 29.1667 25.0417 29.1667C23.8917 29.1667 22.9477 28.2333 22.9477 27.0833C22.9477 25.9333 23.8709 25 25.0209 25H25.0417C26.1917 25 27.125 25.9333 27.125 27.0833ZM35.4584 27.0833C35.4584 28.2333 34.5271 29.1667 33.375 29.1667C32.225 29.1667 31.281 28.2333 31.281 27.0833C31.281 25.9333 32.2042 25 33.3542 25H33.375C34.525 25 35.4584 25.9333 35.4584 27.0833ZM18.7917 35.4167C18.7917 36.5667 17.8605 37.5 16.7084 37.5C15.5584 37.5 14.6144 36.5667 14.6144 35.4167C14.6144 34.2667 15.5375 33.3333 16.6875 33.3333H16.7084C17.8584 33.3333 18.7917 34.2667 18.7917 35.4167ZM27.125 35.4167C27.125 36.5667 26.1938 37.5 25.0417 37.5C23.8917 37.5 22.9477 36.5667 22.9477 35.4167C22.9477 34.2667 23.8709 33.3333 25.0209 33.3333H25.0417C26.1917 33.3333 27.125 34.2667 27.125 35.4167ZM35.4584 35.4167C35.4584 36.5667 34.5271 37.5 33.375 37.5C32.225 37.5 31.281 36.5667 31.281 35.4167C31.281 34.2667 32.2042 33.3333 33.3542 33.3333H33.375C34.525 33.3333 35.4584 34.2667 35.4584 35.4167Z"
                    fill="currentColor" />
            </svg>
        </BTN>
        <BTN :data="settings[4]" :view="viewType">
            <svg class="w-full h-full" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M35.4166 45.3125H14.5833C9.54575 45.3125 6.77075 42.5375 6.77075 37.5V12.5C6.77075 7.4625 9.54575 4.6875 14.5833 4.6875H35.4166C40.4541 4.6875 43.2291 7.4625 43.2291 12.5V37.5C43.2291 42.5375 40.4541 45.3125 35.4166 45.3125ZM14.5833 7.8125C11.2978 7.8125 9.89575 9.21458 9.89575 12.5V37.5C9.89575 40.7854 11.2978 42.1875 14.5833 42.1875H35.4166C38.702 42.1875 40.1041 40.7854 40.1041 37.5V12.5C40.1041 9.21458 38.702 7.8125 35.4166 7.8125H14.5833ZM34.8958 25C34.8958 24.1375 34.1958 23.4375 33.3333 23.4375H16.6666C15.8041 23.4375 15.1041 24.1375 15.1041 25C15.1041 25.8625 15.8041 26.5625 16.6666 26.5625H33.3333C34.1958 26.5625 34.8958 25.8625 34.8958 25ZM28.6458 33.3333C28.6458 32.4708 27.9458 31.7708 27.0833 31.7708H16.6666C15.8041 31.7708 15.1041 32.4708 15.1041 33.3333C15.1041 34.1958 15.8041 34.8958 16.6666 34.8958H27.0833C27.9458 34.8958 28.6458 34.1958 28.6458 33.3333ZM34.8958 16.6667C34.8958 15.8042 34.1958 15.1042 33.3333 15.1042H16.6666C15.8041 15.1042 15.1041 15.8042 15.1041 16.6667C15.1041 17.5292 15.8041 18.2292 16.6666 18.2292H33.3333C34.1958 18.2292 34.8958 17.5292 34.8958 16.6667Z"
                    fill="currentColor" />
            </svg>
        </BTN>
        <BTN :data="settings[5]" :view="viewType">
            <svg class="w-full h-full" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M22.6665 29.4167C22.1332 29.4167 21.6003 29.2125 21.194 28.8062C17.5648 25.175 17.1293 19.55 20.1564 15.4333C20.3731 15.0916 20.7357 14.6542 21.192 14.1958L28.1917 7.19376C30.1459 5.24167 32.7398 4.16667 35.4981 4.16667C38.2544 4.16667 40.8478 5.24167 42.802 7.19376C46.8312 11.2229 46.8312 17.7792 42.802 21.8063L38.969 25.6396C38.1544 26.4542 36.8376 26.4542 36.023 25.6396C35.2084 24.8271 35.2084 23.5083 36.023 22.6938L39.8565 18.8604C42.2586 16.4563 42.2586 12.5438 39.8565 10.1396C37.5253 7.81043 33.471 7.81043 31.1377 10.1396L24.1395 17.1396C23.8957 17.3833 23.7086 17.6084 23.5815 17.8021C21.7128 20.35 21.9749 23.6979 24.1395 25.8604C24.9541 26.675 24.9541 27.9937 24.1395 28.8062C23.7332 29.2125 23.1998 29.4167 22.6665 29.4167ZM21.8084 42.8062L28.8061 35.8063C29.9228 34.6896 30.7667 33.3417 31.2312 31.9542C32.5687 28.2292 31.6165 24.0063 28.8061 21.1938C27.9915 20.3792 26.6752 20.3792 25.8607 21.1917C25.0461 22.0042 25.0461 23.325 25.8607 24.1375C27.5607 25.8417 28.1169 28.2958 27.294 30.5875C27.019 31.4104 26.5232 32.1938 25.8607 32.8583L18.8625 39.8583C16.5312 42.1896 12.4769 42.1875 10.1436 39.8583C7.74152 37.4541 7.74152 33.5417 10.1436 31.1375L13.9771 27.3041C14.7917 26.4896 14.7917 25.1708 13.9771 24.3583C13.1625 23.5437 11.8457 23.5437 11.0312 24.3583L7.19814 28.1917C3.16898 32.2209 3.16898 38.775 7.19814 42.8041C9.15231 44.7562 11.7458 45.8312 14.502 45.8312C17.2604 45.8333 19.8543 44.7583 21.8084 42.8062Z"
                    fill="currentColor" />
            </svg>
        </BTN>
        <AddItem :view="viewType" @click="handleAdd" />

        <AISettingsModal :isOpen="modalAI" :handleModal="handleAI" />
        <AddFeatureModal :isOpen="modalAdd" :handleModal="handleAdd" />
    </Container>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import Container from './Container.vue';
import AddItem from './box-buttons/AddItem.vue';
import AISettingsModal from './modals/AISettingsModal.vue';
import BTN from './box-buttons/BoxButton.vue';
import AddFeatureModal from './modals/AddFeatureModal.vue';
import List_Grid from './list-or-grid/List_Grid.vue';
import { useRightBarStore } from '../../../../stores/right-bar';
import { storeToRefs } from 'pinia';

const store = useRightBarStore()
const { settings } = storeToRefs(store)

const modalAI = ref<boolean>(false)
function handleAI() { modalAI.value = !modalAI.value }

const modalAdd = ref<boolean>(false)
function handleAdd() { modalAdd.value = !modalAdd.value }

// Switching view
const viewType = ref<string>('GRID')
function list_view() { viewType.value = 'LIST' }
function grid_view() { viewType.value = 'GRID' }
</script>
